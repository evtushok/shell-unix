 # Unix Shell - упрощённая версия

Интерактивный командный интерпретатор (Shell) для операционных систем семейства Unix с поддержкой конвейеров, перенаправлений и фонового выполнения процессов.

Данный проект представляет собой реализацию упрощённого Unix Shell, который в цикле считывает командную строку со стандартного ввода, выполняет её парсинг и исполняет соответствующие действия. Shell поддерживает сложные конструкции командной строки, включая конвейеры, перенаправления ввода/вывода, условное и последовательное выполнение команд.

## Поддерживаемые Операции

### Приоритет Операций (по убыванию)
1. **Перенаправления**: `<`, `>`, `>>`
2. **Конвейер**: `|`
3. **Условное выполнение**: `&&`, `||`
4. **Последовательное выполнение**: `;`, `&`

### Дополнительные Возможности
- **Группировка команд**: круглые скобки `()`
- **Произвольное количество пробелов** между составляющими командной строки
- **Фоновый режим** выполнения команд (`&`)

## Особенности

### 1. Конвейеры (Pipes)
- Каждая команда в конвейере выполняется как отдельный процесс
- Все процессы в конвейере работают параллельно
- Shell ожидает завершения **последней** команды для проверки статуса
- Код завершения конвейера = коду завершения последней команды

### 2. Фоновый Режим (Background Mode)
Фоновый процесс должен удовлетворять следующим требованиям:
- **Параллельное выполнение**: работает одновременно с основной программой
- **Игнорирование сигналов**: не реагирует на `SIGINT` (Ctrl+C)
- **Отсутствие доступа к терминалу**: стандартный ввод перенаправляется на `/dev/null`
- **Отсутствие зомби-процессов**: после завершения не должен оставаться процесс-зомби

### 3. Условное Выполнение
- `com1 && com2` — выполнить `com2` только если `com1` завершилась успешно (код 0)
- `com1 || com2` — выполнить `com2` только если `com1` завершилась неуспешно (код ≠ 0)
- Проверяется системный успех и значение, возвращённое `exit()`

### 4. Перенаправления
- `< file` — файл используется как стандартный ввод
- `> file` — стандартный вывод направляется в файл (создаётся или перезаписывается)
- `>> file` — стандартный вывод добавляется в конец файла (создаётся или дополняется)

### 5. Группировка Команд
- `(<Команды>)` — создаёт новый экземпляр Shell для выполнения команд
- Изменения состояния (например, `cd`) внутри скобок не влияют на родительский Shell
- Полезно для изоляции изменений директории и переменных окружения

### Требования
- Операционная система: Linux/Unix
- Компилятор: GCC или Clang
- Стандарт: C99 или выше

### Сборка
```bash
git clone https://github.com/evtushok/shell-unix.git
cd shell-unix
make
```

### Запуск
```bash
./shell
```

### Очистка
```bash
make clean
```
